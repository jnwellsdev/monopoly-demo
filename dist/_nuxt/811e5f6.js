(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{110:function(e){e.exports=JSON.parse('{"piecesAvailable":[{"id":1},{"id":3},{"id":4},{"id":6},{"id":7},{"id":9},{"id":11},{"id":12},{"id":14},{"id":17},{"id":19},{"id":21},{"id":23},{"id":26},{"id":28},{"id":29},{"id":31},{"id":33},{"id":34},{"id":36},{"id":38},{"id":39}],"pieceSets":[{"set1":[1,3,4]},{"set2":[6,7,9]},{"set3":[11,12,14]},{"set4":[17,19]},{"set5":[21,23]},{"set6":[26,28,29]},{"set7":[31,33,34]},{"set8":[36,38,39]}],"userHistory":[{"id":1,"player_id":1,"created_at":"2022-04-13T20:52:30.000000Z","updated_at":"2022-04-13T20:52:30.000000Z","deleted_at":null,"property":{"position":"p9","label":"Marvin Gardens"}},{"id":2,"player_id":1,"created_at":"2022-04-17T04:32:26.000000Z","updated_at":"2022-04-17T04:32:26.000000Z","deleted_at":null,"property":{"position":"p11","label":"Pacific Avenue"}},{"id":3,"player_id":1,"created_at":"2022-04-17T05:35:26.000000Z","updated_at":"2022-04-17T05:35:26.000000Z","deleted_at":null,"property":{"position":"p12","label":"North Carolina Avenue"}},{"id":4,"player_id":1,"created_at":"2022-04-18T20:02:30.000000Z","updated_at":"2022-04-18T20:02:30.000000Z","deleted_at":null,"property":{"position":"p13","label":"Pennsylvania Avenue"}},{"id":5,"player_id":1,"created_at":"2022-04-18T21:22:30.000000Z","updated_at":"2022-04-18T21:22:30.000000Z","deleted_at":null,"property":{"position":"p31","label":"St. Charles Avenue"}}],"board":[{"position":"p9","label":"Marvin Gardens"},{"position":"p11","label":"Pacific Avenue"},{"position":"p12","label":"North Carolina Avenue"},{"position":"p13","label":"Pennsylvania Avenue"},{"position":"p31","label":"St. Charles Avenue"}],"users":[{"id":1,"name":"Jane Smith","role":"Inbound Sales"}]}')},205:function(e,t,n){n(206),e.exports=n(207)},280:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"strict",(function(){return d})),n.d(t,"getters",(function(){return l})),n.d(t,"mutations",(function(){return m})),n.d(t,"actions",(function(){return h}));var o=n(112),c=(n(105),n(41),n(281),n(85),n(46),n(61),n(282),n(18),n(27),n(86),n(39),n(142),n(32),n(40),n(66),n(195),n(110)),r=function(){return{demoData:c,view:"",currentUser:1,piecesAvailable:[],currentPiece:{},pieceIds:[],claimed:[],currentWin:"",won:[],userHistory:{},mobile:Boolean,prize:!1,video:!1,num:0,play:"",modal:!1,response:{},gameCode:"",freeze:!1,theme:""}},d=!1,l={demoUser:function(e){return e.demoData.users.find((function(i){return i.id==e.currentUser}))},demoHistory:function(e){return e.demoData.userHistory},demoPieces:function(e){return e.demoData.piecesAvailable},demoBoard:function(e){return e.demoData.board}},m={handleMobile:function(e,t){var n=window.matchMedia("(max-width: ".concat(t,"px)")),o=function(t){return e.mobile=t.matches};o(n),n.addEventListener("change",o)},handleHeight:function(e){console.log("height?");var t=function(){return e.height={height:"".concat(document.body.clientHeight,"px")}};window.addEventListener("resize",t),t()},handleTheme:function(e){var t=new URLSearchParams(window.location.search).get("theme");t&&(e.theme="v".concat(t))},handleModal:function(e,t){e.modal=!e.modal,e.view=t},handleFreeze:function(e,t){var n=t.val,time=t.time;e.freeze=n,setTimeout((function(){return e.freeze=!n}),time)},handleView:function(e,t){e.view=t},handlePlay:function(e,t){e.play=t,setTimeout((function(){return e.play=""}),100)},handleReset:function(e){e.prize=!1,e.video=!1,e.currentWin=""},handleResponse:function(e,t){e.response=t,e.view="response"},updateGameCode:function(e,t){e.gameCode=t},updateHistory:function(e,t){e.userHistory=t},setCurrent:function(e){e.currentPiece=c.userHistory[0].property},setUpPieces:function(e){e.piecesAvailable=c.piecesAvailable.sort((function(){return Math.random()-.5})),e.pieceIds=[19,14,9,12,11]},handlePieces:function(e,t){var n=this,c=e.piecesAvailable.map((function(p){return p.id})).filter((function(p){return!e.claimed.includes(p)&&!e.pieceIds.includes(p)}));"start"===t&&(e.claimed=[],e.pieceIds=e.pieceIds.slice(1)),"add"===t&&e.pieceIds.length<5&&(e.pieceIds=[c[c.length-1]].concat(Object(o.a)(e.pieceIds))),"remove"===t&&(e.claimed=[e.pieceIds[0]].concat(Object(o.a)(e.claimed)),e.pieceIds=e.pieceIds.slice(1)),e.demoData.pieceSets.forEach((function(t,i){var c;c=e.claimed,t["set".concat(i+1)].every((function(e){return c.includes(e)}))&&!e.won.includes(i+1)&&(console.log("set".concat(i+1)),e.won=[].concat(Object(o.a)(e.won),[i+1]),e.currentWin=i+1,n.commit("handlePrize"))}))},handlePrize:function(e,t){"ended"===t||(e.prize=!e.prize),e.video=!e.video},handleDemoCode:function(e){e.view="response",e.gameCode?(e.response={status:"NEW PIECE COLLECTED!",message:"Congratulations!<br>You've got a new game piece ready<br>to be collected!",action:"Submit another code",action2:"Claim your piece"},e.pieceIds.length<5&&this.commit("handlePieces","add"),console.log(e.pieceIds.length),e.prize=!1,e.video=!1):e.response={status:"INVALID CODE",message:"The code is not valid.",action:"Submit a new code"}}},h={resetUser:function(e){var t=e.commit;axios.get("/player-piece/available").then((function(e){t("setUpPieces",e.data)})).catch((function(e){return console.log(e)}))},checkCode:function(e){var t=this,n=e.commit,o=e.state;o.response={},axios.get("/game-piece/check/".concat(o.gameCode)).then((function(e){n("handleResponse",e.data),t.dispatch("resetUser")})).catch((function(e){return console.log(e)}))},claimPiece:function(e){var t=this,n=e.commit,o=e.state;axios.post("/player-piece/claim/",o.piecesAvailable[0]).then((function(e){console.log(e.data),n("handleResponse",e.data),t.dispatch("resetUser")})).catch((function(e){return console.log(e)}))},getHistory:function(e){var t=e.commit;axios.get("/player-property/").then((function(e){console.log(e.data),t("updateHistory",e.data)})).catch((function(e){return console.log(e)}))}}}},[[205,9,4,10]]]);